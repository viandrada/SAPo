<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<ui:composition>
	<!-- Esta es la pagina central de cada usuario, muestra los almacenes que tiene creados. -->
	<div class="container-fluid">
		<!-- Jumbotron: Se muestra solo cuando no hay almacenes creados -->
		<h:panelGrid rendered="#{homeUsuarioBean.sinAlmacenes}"
			class="jumbotron">
			<div class="jumbotron">
				<h1>Todavía no tienes almacenes.</h1>
				<p>Haz click en el siguiente botón para comenzar!</p>
				<p>
					<h:form>
						<div class="row">
							<div
								class="col-xs-11 col-sm-6 col-md-4 col-md-4 col-sm-offset-3 col-md-offset-4 col-md-offset-4">
								<h:commandLink value="Nuevo almacén" style="width:100%"
									action="#{navigationAreaBean.goTo('altaAlmacen.xhtml')}"
									class="btn btn-primary btn-lg"></h:commandLink>
							</div>
						</div>
					</h:form>
				</p>
			</div>
		</h:panelGrid>
		<!-- Fin de Jumbotron -->

		<div class="row">
			<div class="col-xs-12 col-sm-12 col-md-9 col-md-9">
				<!-- h:dataTable value="#{homeUsuarioBean.almacenes}" var="a"-->
				<ul class="list-group">
					<ui:repeat value="#{homeUsuarioBean.almacenes}" var="item">
						<div class="col-xs-12 col-sm-6 col-md-4 col-lg-4">

							<h:form>
								<li class="list-group-item">

									<div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
										<h:outputText value="#{item.nombre}" />
									</div>
									<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
										<h:commandLink
											action="#{editarAlmacenBean.getAlmacen(item.idAlmacen)}"
											actionListener="#{navigationAreaBean.goTo('editarAlmacen.xhtml')}"
											value="">
											<i class="fa fa-pencil-square-o"></i>
										</h:commandLink>
										<h:commandLink value=" "
											class="btn btn-danger btn-xs"
											action="#{editarAlmacenBean.getAlmacen(item.idAlmacen)}"
											onclick="$('#myModabaja').modal('show');" immediate="true">
											<i class="fa fa-times"></i>
											<f:ajax execute="@this" render=":modalBa" />
										</h:commandLink>
									</div> <h:commandLink
										action="#{navigationAreaBean.irAlmacen(item.idAlmacen)}"
										class="thumbnail">
										<!--h:graphicImage class="img-responsive"
										value="/resources/images/box.png">
									</h:graphicImage-->
										<h:graphicImage class="img-responsive imgDefault"
											style="height:200px;" value="Image/#{item.idFoto}">
										</h:graphicImage>
									</h:commandLink>
								</li>
							</h:form>
						</div>

					</ui:repeat>
					<!-- /h:dataTable-->
				</ul>

			</div>
			<h:panelGrid rendered="#{not homeUsuarioBean.sinAlmacenes}"
				class=" visible-md visible-lg">
				<div class="col-md-3 col-lg-3">
					<ui:include src="/templates/default/historicoMovimientos.xhtml" />
				</div>
			</h:panelGrid>
		</div>

		<div class="modal fade" id="myModabaja" tabindex="-1" role="dialog">
			<div class="modal-dialog">
				<!-- Modal content-->
				<div class="modal-content">
					<h:form id="modalBa">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal">X</button>
							<h4 class="modal-title">Estas seguro que quieres dar de baja
								el Almacen: #{editarAlmacenBean.dataAlmacen.nombre} ?</h4>
						</div>
						<div class="modal-body">
							<h5 class="modal-title">Ten en cuenta!!! Si en el futuro
								quieres recuperar tu almacen tal cual lo dejaste, deberas
								hacerte usuario Premium.</h5>

							<h:inputHidden value="#{editarAlmacenBean.dataAlmacen.idAlmacen}"
								id="idAlmaEliminar" class="form-control" />

						</div>
						<div class="modal-footer">

							<h:commandButton class="btn btn-success" value="Aceptar"
								type="submit" action="#{editarAlmacenBean.bajaAlmacen}">
							</h:commandButton>

							<button type="button" class="btn btn-danger pull-left"
								data-dismiss="modal" onclick="return false;">Cancelar</button>
						</div>
					</h:form>
				</div>
			</div>
		</div>

		<hr />
		<div class="row visible-xs visible-sm">
			<h:panelGrid rendered="#{not homeUsuarioBean.sinAlmacenes}"
				class="col-xs-10 col-sm-10 col-xs-offset-1 col-sm-offset-1">
				<ui:include src="/templates/default/historicoMovimientos.xhtml" />
			</h:panelGrid>
		</div>
	</div>
</ui:composition>
</html>