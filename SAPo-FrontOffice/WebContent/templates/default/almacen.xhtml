<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<ui:composition>
	<div class="container-fluid">

		<!-- Datos del almacen -->
		<div class="row">
			<!-- div class="col-xs-12 col-md-12 col-sm-12 col-lg-12">
				<h:outputLabel value="Id: " />
				#{navigationAreaBean.idAlmacenActual}
			</div-->
			<div class="col-xs-12 col-md-12 col-sm-12 col-lg-12">

				<h:outputText value="AlmacÃ©n >> " class="h3" />
				<h:outputText value="#{almacenBean.almacen.nombre}" class="h2" />
				<h:outputText value=": " class="h2" />
				<h:outputText value="#{almacenBean.almacen.descripcion}" class="h2">
				</h:outputText>
			</div>
		</div>
		<hr />
		<!-- Fin de: Datos del almacen -->

		<div class="row">
			<h:form>
				<h:panelGroup class="row">
					<h:commandButton value="Compartir Almacen"
						action="#{navigationAreaBean.goTo('compartirAlmacen.xhtml')}"
						class="btn btn-primary btn-lg"></h:commandButton>
					<h:commandButton value="Comentarios"
						action="#{navigationAreaBean.goTo('comentariosAlmacen.xhtml')}"
						class="btn btn-primary btn-lg"></h:commandButton>
					<h:commandButton value="Nuevo producto"
						action="#{navigationAreaBean.goTo('altaProducto.xhtml')}"
						actionListener="#{altaProductoBean.init()}"
						class="btn btn-primary btn-lg"></h:commandButton>
					<h:commandButton value="Nuevo producto (con plantilla)"
						action="#{navigationAreaBean.goTo('listarProductosGenericos.xhtml')}"
						class="btn btn-primary btn-lg"></h:commandButton>
				</h:panelGroup>

			</h:form>

		</div>
		<hr />
		<!-- Productos del almacen -->
		<div class="row">
			<ul class="list-group">
				<ui:repeat value="#{almacenBean.almacen.productos}" var="item">
					<div class="col-xs-6 col-sm-6 col-md-2 col-lg-2">
						<h:form id="modalForm">
							<li class="list-group-item"><h:outputText
									value="#{item.nombre}" /> <h:commandLink
									action="detalleProducto.xhtml"
									actionListener="#{detalleProductoBean.init(item.idProducto)}"
									class="thumbnail">
									<h:graphicImage class="img-responsive" style="height:100px;"
										value="Image/#{item.fotos.get(0).idImagen}">
									</h:graphicImage>
									<f:param name="Id" value="#{item.idProducto}" />
								</h:commandLink>
								<div class="row">
									<div
										class="col-xs-6 col-md-4 col-sm-4 col-lg-4 col-sm-offset-8 col-lg-offset-8">
										<h:outputText value="#{item.stock}" class="form-control" />
									</div>
								</div></li>

						</h:form>
						<button type="button" class="btn btn-primary btn-lg"
							data-toggle="modal" data-target="#myModal"
							onclick="#{detalleProductoBean.init(item.idProducto)}">Ver
							detalle</button>

						<!-- Modal -->
						<div class="modal fade" id="myModal" tabindex="-1" role="dialog"
							aria-labelledby="myModalLabel">
							<div class="modal-dialog" role="document">
								<div class="modal-content">
									<div class="modal-header">
										<button type="button" class="close" data-dismiss="modal"
											aria-label="Close">
											<span aria-hidden="true"></span>
										</button>
										<h4 class="modal-title" id="myModalLabel">Detalle</h4>
									</div>
									<div class="modal-body">
										<ui:include src="detalleProducto.xhtml" />
									</div>
									<div class="modal-footer">
										<button type="button" class="btn btn-info"
											data-dismiss="modal">Cancelar</button>
									</div>
								</div>
							</div>
						</div>
						<!-- Fin de ventana modal -->
					</div>
				</ui:repeat>
			</ul>
		</div>
		<!-- Fin de: Productos del almacen -->

	</div>

</ui:composition>
</html>